<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>RFCHOST的GIA线路评测及搭建v2ray的曲折历程 - PRELUDE</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='../style/basic_styles.css'>
    <link rel="stylesheet" href="https://unpkg.com/simpledotcss/simple.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src=https://www.googletagmanager.com/gtag/js?id=UA-92314993-3></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-92314993-3');
    </script>
    <script>
        const page_object = {"contents": [{"children": null, "contents": [{"id": "691fedd2-3c21-46f6-b769-d010490cdd1c", "level": 1, "text": "\u4e00\u3001\u4e8b\u8d77"}, {"id": "75eca19c-a45d-4b01-859f-f38dec4e063c", "level": 1, "text": "\u4e8c\u3001\u8bc4\u6d4b"}, {"id": "1692b0b0-7f0c-467d-9324-da9fd49e81a1", "level": 2, "text": "2.1 \u4e0a\u6d77\u7535\u4fe1Traceroute"}, {"id": "908d2c22-2384-4e80-8712-a6643940ff39", "level": 2, "text": "2.2 \u4e0a\u6d77\u8054\u901aTraceroute"}, {"id": "9b6d7185-c59c-42d2-ae81-fdfb784872b5", "level": 2, "text": "2.3 \u56de\u7a0bTraceroute\u5230\u4e0a\u6d77BGP"}, {"id": "6204e0a0-424a-4050-9e9b-b102ac53bdd2", "level": 2, "text": "2.4 \u5e26\u5bbd"}, {"id": "dcf0f75b-012a-4d61-ad9d-c287d75fd920", "level": 1, "text": "\u4e09\u3001\u5728\u8be5\u673a\u5668\u4e0a\u5b89\u88c5v2ray\u9047\u5230\u7684\u5751"}, {"id": "5dfbd134-e037-4ef5-8ca0-5d0b8e29a9da", "level": 2, "text": "3.1 \u9ed8\u8ba4\u4e0d\u914d\u7f6eSSH"}, {"id": "fb3ccd06-b6fc-4544-8e08-53eb2ae881d0", "level": 2, "text": "3.2 \u7cfb\u7edf\u65f6\u949f\u4e0d\u540c\u6b65"}, {"id": "5a172acb-9b66-4f8b-a410-c1ecef729120", "level": 2, "text": "3.3 \u9ed8\u8ba4\u540c\u65f6\u5f00\u542fiptables\u548cfirewalld"}], "type": "table_of_contents"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u6ce8\uff1a\u8be5\u6587\u7ae0\u5199\u4e8e2018\u5e7412\u6708\uff0c\u4fe1\u606f\u672a\u5fc5\u80fd\u591f\u53cd\u6620\u73b0\u4eca\u72b6\u51b5\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "id": "691fedd2-3c21-46f6-b769-d010490cdd1c", "text": [{"annotations": "", "color": "default", "content": "\u4e00\u3001", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u4e8b\u8d77", "link": null, "type": "text"}], "type": "heading_1"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4e4b\u524d\u4e70\u7684\u642c\u74e6\u5de5GIA\u7ebf\u8def\uff0c\u5176\u5b9e\u7528\u7684\u8fd8\u884c\uff0c\u5c31\u662f\u4e0d\u77e5\u9053\u4e3a\u5565\u64adspotify\u6709\u70b9\u5361\u3002\u7167\u8bf4youtube\u90fd\u4e0d\u5361spotify\u5b9e\u5728\u662f\u6ca1\u7406\u7531\u5361\u3002\u90a3\u5c31\u987a\u4fbf\u770b\u770b\u65b0\u7684\u9009\u62e9\u5427\uff0c\u770b\u5230\u7f51\u4e0aRFCHOST\u98ce\u8bc4\u4e0d\u9519\uff0c\u90a3\u5c31\u8bd5\u8bd5\u770b\u5427\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4ed6\u5bb6GIA\u7ebf\u8def\u662f\u6708\u4ed88.99 USD\uff0c\u4f46\u662f\u9009\u5b63\u4ed8\u53ca\u4ee5\u4e0a\u90fd\u662f7.99 USD\u6bcf\u6708\uff0c\u7adf\u7136\u6ca1\u6709\u4f18\u60e0\u3002\u8fd9\u4e2a\u4ef7\u683c\u548c\u642c\u74e6\u5de5\uff0c\u751a\u81f3\u548c\u963f\u91cc\u4e91\u56fd\u9645\u6bd4\u786e\u5b9e\u662f\u6ca1\u5565\u7ade\u4e89\u529b\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4ed8\u6b3e\u6682\u65f6\u4e0d\u652f\u6301\u4fe1\u7528\u5361\uff0c\u53ea\u80fd\u7528\u652f\u4ed8\u5b9d\u3002\u6709\u70b9\u86cb\u75bc\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "id": "75eca19c-a45d-4b01-859f-f38dec4e063c", "text": [{"annotations": "", "color": "default", "content": "\u4e8c\u3001", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u8bc4\u6d4b", "link": null, "type": "text"}], "type": "heading_1"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u5728\u5468\u672b\u7684\u665a\u4e0a\u548c\u767d\u5929\u5206\u522b\u6d4b\u4e86\u4e00\u6b21\uff0c\u7ed3\u679c\u6bd4\u8f83\u7a33\u5b9a\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "id": "1692b0b0-7f0c-467d-9324-da9fd49e81a1", "text": [{"annotations": "", "color": "default", "content": "2.1 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u4e0a\u6d77\u7535\u4fe1Traceroute", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u53ef\u4ee5\u770b\u5230\u662fCN2\u7684\u7ebf\u8def\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "type": "image", "url": "0aacafcf-fdb3-11ec-bcfc-b060885df61e"}, {"children": null, "id": "908d2c22-2384-4e80-8712-a6643940ff39", "text": [{"annotations": "", "color": "default", "content": "2.2 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u4e0a\u6d77\u8054\u901aTraceroute", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4e5f\u662f\u76f4\u63a5\u8d70\u7684\u7535\u4fe1\u51fa\u53e3\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "type": "image", "url": "0b7a6a89-fdb3-11ec-9204-b060885df61e"}, {"children": null, "id": "9b6d7185-c59c-42d2-ae81-fdfb784872b5", "text": [{"annotations": "", "color": "default", "content": "2.3 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u56de\u7a0bTraceroute\u5230\u4e0a\u6d77BGP", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "type": "image", "url": "0c308c3a-fdb3-11ec-9713-b060885df61e"}, {"children": null, "id": "6204e0a0-424a-4050-9e9b-b102ac53bdd2", "text": [{"annotations": "", "color": "default", "content": "2.4 \u5e26\u5bbd", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u5468\u672b\u767d\u5929\u7684\u60c5\u51b5\u6bd4\u8f83\u597d\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u8fd9\u53f0\u673a\u5668\u7684ip\u4f30\u8ba1\u662f\u4ece\u4e0a\u6d77\u5e7f\u64ad\u7684\uff0cspeedtest\u76f4\u63a5\u8bc6\u522b\u4e3a\u4e0a\u6d77\u7684ip\u4e86\uff0c\u7ed9\u5339\u914d\u4e86\u4e2a\u4e0a\u6d77\u7684\u6d4b\u901f\u70b9\uff1a", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "type": "image", "url": "0d15df17-fdb3-11ec-b185-b060885df61e"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u5f3a\u884c\u6307\u5b9a\u4e3a\u6d1b\u6749\u77f6\u7684\u6d4b\u901f\u70b9\u4e4b\u540e\uff1a", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "type": "image", "url": "0dac37d2-fdb3-11ec-9c3d-b060885df61e"}, {"children": null, "id": "dcf0f75b-012a-4d61-ad9d-c287d75fd920", "text": [{"annotations": "", "color": "default", "content": "\u4e09\u3001", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u5728\u8be5\u673a\u5668\u4e0a\u5b89\u88c5v2ray\u9047\u5230\u7684\u5751", "link": null, "type": "text"}], "type": "heading_1"}, {"children": null, "id": "5dfbd134-e037-4ef5-8ca0-5d0b8e29a9da", "text": [{"annotations": "", "color": "default", "content": "3.1 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u9ed8\u8ba4\u4e0d\u914d\u7f6eSSH", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4ed6\u4eec\u5bb6\u7684\u673a\u5668\u53ef\u80fd\u90fd\u662f\u9ed8\u8ba4\u4e0d\u914d\u7f6eSSH\u7684\u3002\u53ea\u80fd\u4ece\u5b98\u7f51\u8fdbVNC\u5b89\u88c5SSH\u3002\n\u8981\u6ce8\u610f\u4ed6\u4eec\u662f\u5f00\u59cbSELinux\u7684\uff0c\u6240\u4ee5\u5982\u679c\u76f4\u63a5\u5236\u5b9a\u975e22\u7aef\u53e3\u7684SSH\u8fde\u63a5\u7684\u8bdd\u4f1a\u663e\u793apermission denied\uff0c\u4e0d\u80fd\u7ed1\u5b9a\uff1a", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "contents": "Dec 09 01:16:33 RFCHOST-181208-FF9V sshd[16197]: error: Bind to port 1025 on 0.0.0.0 failed: Permission denied.\nDec 09 01:16:33 RFCHOST-181208-FF9V sshd[16197]: error: Bind to port 1025 on :: failed: Permission denied.", "language": "language-bash", "type": "code"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u6240\u4ee5\u5148\u8981\u53bb\u628aSELinux\u7684SSH\u7aef\u53e3\u53f7\u6539\u4e86\u3002\u5b89\u88c5\u4e00\u4e0bSEManage", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "contents": "yum install policycoreutils-python", "language": "language-bash", "type": "code"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u7136\u540e\u6539SSH\u7aef\u53e3\uff1a", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "contents": "semanage port -a -t ssh_port_t -p tcp 1234", "language": "language-bash", "type": "code"}, {"children": null, "id": "fb3ccd06-b6fc-4544-8e08-53eb2ae881d0", "text": [{"annotations": "", "color": "default", "content": "3.2 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u7cfb\u7edf\u65f6\u949f\u4e0d\u540c\u6b65", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u8fd9\u4e2a\u5751\u771f\u7684\u662f\u795e\u5751\u3002v2ray\u5bf9\u4e8e\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u65f6\u95f4\u5dee\u4e0d\u5f97\u8d85\u8fc790\u79d2\uff0c\u6211\u5728\u914d\u7f6e\u5b8c\u6210v2ray\u4e4b\u540e\uff0c\u4e4b\u524d\u53e6\u5916\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u7528\u7684\u597d\u597d\u7684\u540c\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u8fd9\u53f0\u670d\u52a1\u5668\u4e0d\u884c\u3002chrome\u6253\u5f00\u76f4\u63a5\u663e\u793a:", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "type": "image", "url": "0e40f60b-fdb3-11ec-9b25-b060885df61e"}, {"children": null, "contents": "\u65e0\u6cd5\u8bbf\u95ee\u6b64\u7f51\u7ad9 www.google.com \u610f\u5916\u7ec8\u6b62\u4e86\u8fde\u63a5\u3002", "language": "language-bash", "type": "code"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u539f\u672c\u4ee5\u4e3a\u662f\u9632\u706b\u5899\u7684\u539f\u56e0\u6ca1\u5f00\u7aef\u53e3\u3002\u76f4\u63a5\u6e05\u7a7a", "link": null, "type": "text"}, {"annotations": " code", "color": "default", "content": "iptables", "link": null, "type": "text"}, {"annotations": "", "color": "default", "content": "\uff0c", "link": null, "type": "text"}, {"annotations": " code", "color": "default", "content": "stop firewalld", "link": null, "type": "text"}, {"annotations": "", "color": "default", "content": "\uff0c\u4ecd\u7136\u4e0d\u884c\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u4f7f\u7528nmap\u67e5\u770b\u7aef\u53e3\u72b6\u6001\uff0c\u4e5f\u662f\u663e\u793a\u4e3a", "link": null, "type": "text"}, {"annotations": " code", "color": "default", "content": "open", "link": null, "type": "text"}, {"annotations": "", "color": "default", "content": "\uff0c\u5341\u5206\u86cb\u75bc\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u7a81\u7136\u60f3\u5230\u4e4b\u524d\u5e2e\u522b\u4eba\u914d\u7f6e\u8fc7\u4e00\u6b21\u9047\u5230\u8fc7\u7c7b\u4f3c\u7684\u95ee\u9898\u3002", "link": null, "type": "text"}, {"annotations": " code", "color": "default", "content": "date -R", "link": null, "type": "text"}, {"annotations": "", "color": "default", "content": "\u67e5\u770b\u7cfb\u7edf\u65f6\u95f4\uff0c\u679c\u7136\u9519\u4e86\u3002\u6539\u5b8c\u4fee\u590d\u4e86\u3002", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "id": "5a172acb-9b66-4f8b-a410-c1ecef729120", "text": [{"annotations": "", "color": "default", "content": "3.3 ", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u9ed8\u8ba4\u540c\u65f6\u5f00\u542f", "link": null, "type": "text"}, {"annotations": " bold code", "color": "default", "content": "iptables", "link": null, "type": "text"}, {"annotations": " bold", "color": "default", "content": "\u548c", "link": null, "type": "text"}, {"annotations": " bold code", "color": "default", "content": "firewalld", "link": null, "type": "text"}], "type": "heading_2"}, {"children": null, "text": [{"annotations": "", "color": "default", "content": "\u6211\u662f\u77e5\u9053centos 7\u662f\u9ed8\u8ba4\u5f00\u59cbfirewalld\u7684\uff0c\u4f46\u662f\u6ca1\u60f3\u5230\u8fd9\u53f0\u673a\u5668\u540c\u65f6\u5f00\u542f\u4e86iptables\u548cfirewalld...\u7b2c\u4e00\u6b21\u914d\u7f6e\u7684\u65f6\u5019\u662f\u6ca1\u53d1\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u76f4\u5230nmap\u626b\u63cf\u7aef\u53e3\u662f", "link": null, "type": "text"}, {"annotations": " code", "color": "default", "content": "filtered", "link": null, "type": "text"}, {"annotations": "", "color": "default", "content": "\u7684\u624d\u53d1\u89c9\u5230\u3002\u76f4\u63a5\u7981\u7528firewalld\uff1a", "link": null, "type": "text"}], "type": "paragraph"}, {"children": null, "contents": "service firewalld stop\nsystemctl disable firewalld.service", "language": "language-bash", "type": "code"}], "cover": null, "create_date": "2018-12-10", "create_time": "00:00:00", "ga": "UA-92314993-3", "page_title": "RFCHOST\u7684GIA\u7ebf\u8def\u8bc4\u6d4b\u53ca\u642d\u5efav2ray\u7684\u66f2\u6298\u5386\u7a0b", "site_name": "PRELUDE"}
        console.log(page_object)
    </script>
</head>
<body>


<!-- header area -->

    <div style="position: absolute; height: 400px;width: 100%;z-index: 0;display: flex; justify-content: center;">
  

        <div>
            
            <div class="header-article">
    <p><a href="../index.html">PRELUDE</a></p>
</div>
            
            <h1 class="page-title">RFCHOST的GIA线路评测及搭建v2ray的曲折历程</h1>
            <i class="page-title">Create At: 2018-12-10 00:00:00</i>
        </div>
    </div>


<!-- body area -->
    <div class="container" style="padding-top: 450px">
    <div>
        
        













<a href=#691fedd2-3c21-46f6-b769-d010490cdd1c class=toc_level_1>一、事起</a>

<a href=#75eca19c-a45d-4b01-859f-f38dec4e063c class=toc_level_1>二、评测</a>

<a href=#1692b0b0-7f0c-467d-9324-da9fd49e81a1 class=toc_level_2>2.1 上海电信Traceroute</a>

<a href=#908d2c22-2384-4e80-8712-a6643940ff39 class=toc_level_2>2.2 上海联通Traceroute</a>

<a href=#9b6d7185-c59c-42d2-ae81-fdfb784872b5 class=toc_level_2>2.3 回程Traceroute到上海BGP</a>

<a href=#6204e0a0-424a-4050-9e9b-b102ac53bdd2 class=toc_level_2>2.4 带宽</a>

<a href=#dcf0f75b-012a-4d61-ad9d-c287d75fd920 class=toc_level_1>三、在该机器上安装v2ray遇到的坑</a>

<a href=#5dfbd134-e037-4ef5-8ca0-5d0b8e29a9da class=toc_level_2>3.1 默认不配置SSH</a>

<a href=#fb3ccd06-b6fc-4544-8e08-53eb2ae881d0 class=toc_level_2>3.2 系统时钟不同步</a>

<a href=#5a172acb-9b66-4f8b-a410-c1ecef729120 class=toc_level_2>3.3 默认同时开启iptables和firewalld</a>

    





<p>
        
        
            
<span class=" default">注：该文章写于2018年12月，信息未必能够反映现今状况。</span>

        
        
    </p>
    





<h2 id=691fedd2-3c21-46f6-b769-d010490cdd1c>
        
            
<span class=" default">一、</span>

        
            
<span class=" bold default">事起</span>

        
    </h2>
    





<p>
        
        
            
<span class=" default">之前买的搬瓦工GIA线路，其实用的还行，就是不知道为啥播spotify有点卡。照说youtube都不卡spotify实在是没理由卡。那就顺便看看新的选择吧，看到网上RFCHOST风评不错，那就试试看吧。</span>

        
        
    </p>
    





<p>
        
        
            
<span class=" default">他家GIA线路是月付8.99 USD，但是选季付及以上都是7.99 USD每月，竟然没有优惠。这个价格和搬瓦工，甚至和阿里云国际比确实是没啥竞争力。</span>

        
        
    </p>
    





<p>
        
        
            
<span class=" default">付款暂时不支持信用卡，只能用支付宝。有点蛋疼。</span>

        
        
    </p>
    





<h2 id=75eca19c-a45d-4b01-859f-f38dec4e063c>
        
            
<span class=" default">二、</span>

        
            
<span class=" bold default">评测</span>

        
    </h2>
    





<p>
        
        
            
<span class=" default">在周末的晚上和白天分别测了一次，结果比较稳定。</span>

        
        
    </p>
    





<h3 id=1692b0b0-7f0c-467d-9324-da9fd49e81a1>
        
            
<span class=" default">2.1 </span>

        
            
<span class=" bold default">上海电信Traceroute</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">可以看到是CN2的线路。</span>

        
        
    </p>
    





<img src=./0aacafcf-fdb3-11ec-bcfc-b060885df61e></img>
    





<h3 id=908d2c22-2384-4e80-8712-a6643940ff39>
        
            
<span class=" default">2.2 </span>

        
            
<span class=" bold default">上海联通Traceroute</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">也是直接走的电信出口。</span>

        
        
    </p>
    





<img src=./0b7a6a89-fdb3-11ec-9204-b060885df61e></img>
    





<h3 id=9b6d7185-c59c-42d2-ae81-fdfb784872b5>
        
            
<span class=" default">2.3 </span>

        
            
<span class=" bold default">回程Traceroute到上海BGP</span>

        
    </h3>
    





<img src=./0c308c3a-fdb3-11ec-9713-b060885df61e></img>
    





<h3 id=6204e0a0-424a-4050-9e9b-b102ac53bdd2>
        
            
<span class=" default">2.4 带宽</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">周末白天的情况比较好。</span>

        
        
    </p>
    





<p>
        
        
            
<span class=" default">这台机器的ip估计是从上海广播的，speedtest直接识别为上海的ip了，给匹配了个上海的测速点：</span>

        
        
    </p>
    





<img src=./0d15df17-fdb3-11ec-b185-b060885df61e></img>
    





<p>
        
        
            
<span class=" default">强行指定为洛杉矶的测速点之后：</span>

        
        
    </p>
    





<img src=./0dac37d2-fdb3-11ec-9c3d-b060885df61e></img>
    





<h2 id=dcf0f75b-012a-4d61-ad9d-c287d75fd920>
        
            
<span class=" default">三、</span>

        
            
<span class=" bold default">在该机器上安装v2ray遇到的坑</span>

        
    </h2>
    





<h3 id=5dfbd134-e037-4ef5-8ca0-5d0b8e29a9da>
        
            
<span class=" default">3.1 </span>

        
            
<span class=" bold default">默认不配置SSH</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">他们家的机器可能都是默认不配置SSH的。只能从官网进VNC安装SSH。
要注意他们是开始SELinux的，所以如果直接制定非22端口的SSH连接的话会显示permission denied，不能绑定：</span>

        
        
    </p>
    





<pre><code class=language-bash>Dec 09 01:16:33 RFCHOST-181208-FF9V sshd[16197]: error: Bind to port 1025 on 0.0.0.0 failed: Permission denied.
Dec 09 01:16:33 RFCHOST-181208-FF9V sshd[16197]: error: Bind to port 1025 on :: failed: Permission denied.</code></pre>
    





<p>
        
        
            
<span class=" default">所以先要去把SELinux的SSH端口号改了。安装一下SEManage</span>

        
        
    </p>
    





<pre><code class=language-bash>yum install policycoreutils-python</code></pre>
    





<p>
        
        
            
<span class=" default">然后改SSH端口：</span>

        
        
    </p>
    





<pre><code class=language-bash>semanage port -a -t ssh_port_t -p tcp 1234</code></pre>
    





<h3 id=fb3ccd06-b6fc-4544-8e08-53eb2ae881d0>
        
            
<span class=" default">3.2 </span>

        
            
<span class=" bold default">系统时钟不同步</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">这个坑真的是神坑。v2ray对于客户端和服务端的时间差不得超过90秒，我在配置完成v2ray之后，之前另外一台服务器上用的好好的同一个配置文件，这台服务器不行。chrome打开直接显示:</span>

        
        
    </p>
    





<img src=./0e40f60b-fdb3-11ec-9b25-b060885df61e></img>
    





<pre><code class=language-bash>无法访问此网站 www.google.com 意外终止了连接。</code></pre>
    





<p>
        
        
            
<span class=" default">原本以为是防火墙的原因没开端口。直接清空</span>

        
        
        
            
<span class=" code default">iptables</span>

        
        
        
            
<span class=" default">，</span>

        
        
        
            
<span class=" code default">stop firewalld</span>

        
        
        
            
<span class=" default">，仍然不行。</span>

        
        
    </p>
    





<p>
        
        
            
<span class=" default">使用nmap查看端口状态，也是显示为</span>

        
        
        
            
<span class=" code default">open</span>

        
        
        
            
<span class=" default">，十分蛋疼。</span>

        
        
    </p>
    





<p>
        
        
            
<span class=" default">突然想到之前帮别人配置过一次遇到过类似的问题。</span>

        
        
        
            
<span class=" code default">date -R</span>

        
        
        
            
<span class=" default">查看系统时间，果然错了。改完修复了。</span>

        
        
    </p>
    





<h3 id=5a172acb-9b66-4f8b-a410-c1ecef729120>
        
            
<span class=" default">3.3 </span>

        
            
<span class=" bold default">默认同时开启</span>

        
            
<span class=" bold code default">iptables</span>

        
            
<span class=" bold default">和</span>

        
            
<span class=" bold code default">firewalld</span>

        
    </h3>
    





<p>
        
        
            
<span class=" default">我是知道centos 7是默认开始firewalld的，但是没想到这台机器同时开启了iptables和firewalld...第一次配置的时候是没发现这个问题，直到nmap扫描端口是</span>

        
        
        
            
<span class=" code default">filtered</span>

        
        
        
            
<span class=" default">的才发觉到。直接禁用firewalld：</span>

        
        
    </p>
    





<pre><code class=language-bash>service firewalld stop
systemctl disable firewalld.service</code></pre>
    





    </div>
    <div class="footer">
    <p>Created by <a href="https://github.com/imyangmo/notionpaper">NotionPaper</a>, a tool that helps you use Notion like a CMS. </p>
    <p>This site uses <a href="https://simplecss.org/">Simple.css</a></p>
</div>

</div>
</body>
</html>